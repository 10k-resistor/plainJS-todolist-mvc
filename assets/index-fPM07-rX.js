var h=Object.defineProperty;var p=(i,e,t)=>e in i?h(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(p(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}})();class I{constructor(e){s(this,"id");s(this,"todo");this.id=V(),this.todo=e}}class f{constructor(){s(this,"list",[])}}function V(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(i^crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16))}class y{constructor(){s(this,"model");s(this,"view")}setModel(e){this.model=e}setView(e){this.view=e}getItems(){return this.model.list}addItem(e){var t=new I(e);this.model.list.push(t),this.view.update()}deleteItem(e){const t=this.model.list.findIndex(l=>l.id===e);t!==-1&&this.model.list.splice(t,1),this.view.update()}updateView(){this.view.update()}}class g{constructor(){s(this,"controller");const e=document.getElementById("tableViewContainerAddItemAdd");e.onclick=()=>this.addItem()}setController(e){this.controller=e}update(){const e=document.getElementById("todoTable");e.innerHTML="",this.controller.getItems().forEach(t=>{const l=e.insertRow(),o=l.insertCell(0),n=l.insertCell(1);o.innerHTML=t.todo;const d=document.createElement("button");d.textContent="Delete",d.classList.add("delete"),d.classList.add("is-medium"),d.onclick=()=>this.deleteItem(t.id),n.appendChild(d)})}addItem(){let e=document.getElementById("tableViewContainerAddItemInput").value;this.controller.addItem(e),document.getElementById("tableViewContainerAddItemInput").value=""}deleteItem(e){this.controller.deleteItem(e),this.update()}}class b{constructor(){s(this,"controller");const e=document.getElementById("tileViewContainerAddItemAdd");e.onclick=()=>this.addItem()}setController(e){this.controller=e}update(){const e=document.getElementById("tileContainer");e.innerHTML="",this.controller.getItems().forEach(t=>{const l=document.createElement("div");l.classList.add("tile");const o="delete-"+t.id;let n="<p class='is-size-6'>";n+=t.todo,n+="<button id='"+o+"' class='is-medium delete ml-2'>",n+="Delete",n+="</button>",n+="</p>",l.innerHTML=n,e.appendChild(l);const d=document.getElementById(o);d.onclick=()=>this.deleteItem(t.id)})}addItem(){let e=document.getElementById("tileViewContainerAddItemInput").value;this.controller.addItem(e),document.getElementById("tileViewContainerAddItemInput").value=""}deleteItem(e){this.controller.deleteItem(e),this.update()}}var r=new y,v=new f,w=new g,m=new b,c="tableView";function a(i){const e=document.getElementById("tableViewContainer"),t=document.getElementById("tileViewContainer");i==="tableView"?(r.setView(w),e.style.display="block",t.style.display="none"):i==="tileView"?(r.setView(m),e.style.display="none",t.style.display="block"):console.error("Unknown view")}function B(){c==="tableView"?(a("tileView"),c="tileView",u.innerText="Show tileview"):(a("tableView"),c="tableView",u.innerText="Show tableview"),r.updateView()}const u=document.getElementById("changeViewButton");u.onclick=()=>B();r.setModel(v);w.setController(r);m.setController(r);a("tableView");m.update();
