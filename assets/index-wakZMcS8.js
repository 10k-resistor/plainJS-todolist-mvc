var h=Object.defineProperty;var p=(o,e,t)=>e in o?h(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var r=(o,e,t)=>(p(o,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();class I{constructor(e){r(this,"id");r(this,"todo");this.id=V(),this.todo=e}}class f{constructor(){r(this,"list",[])}}function V(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(o^crypto.getRandomValues(new Uint8Array(1))[0]&15>>o/4).toString(16))}class y{constructor(){r(this,"model");r(this,"view")}setModel(e){this.model=e}setView(e){this.view=e}getItems(){return this.model.list}addItem(e){var t=new I(e);this.model.list.push(t),this.view.update()}deleteItem(e){const t=this.model.list.findIndex(l=>l.id===e);t!==-1&&this.model.list.splice(t,1),this.view.update()}updateView(){this.view.update()}}class g{constructor(){r(this,"controller");const e=document.getElementById("tableViewContainerAddItemAdd");e.onclick=()=>this.addItem()}setController(e){this.controller=e}update(){const e=document.getElementById("todoTable");e.innerHTML="",this.controller.getItems().forEach(t=>{const l=e.insertRow(),n=l.insertCell(0),i=l.insertCell(1);n.innerHTML=t.todo;const d=document.createElement("button");d.textContent="Delete",d.classList.add("delete"),d.classList.add("is-medium"),d.onclick=()=>this.deleteItem(t.id),i.appendChild(d)})}addItem(){let e=document.getElementById("tableViewContainerAddItemInput").value;this.controller.addItem(e),document.getElementById("tableViewContainerAddItemInput").value=""}deleteItem(e){this.controller.deleteItem(e),this.update()}}class b{constructor(){r(this,"controller");const e=document.getElementById("tileViewContainerAddItemAdd");e.onclick=()=>this.addItem()}setController(e){this.controller=e}update(){const e=document.getElementById("tileContainer");e.innerHTML="",this.controller.getItems().forEach(t=>{const l=document.createElement("div");l.classList.add("tile"),l.textContent=t.todo,e.appendChild(l)})}addItem(){let e=document.getElementById("tileViewContainerAddItemInput").value;this.controller.addItem(e),document.getElementById("tileViewContainerAddItemInput").value=""}deleteItem(e){this.controller.deleteItem(e),this.update()}}var s=new y,v=new f,w=new g,m=new b,c="tableView";function a(o){const e=document.getElementById("tableViewContainer"),t=document.getElementById("tileViewContainer");o==="tableView"?(s.setView(w),e.style.display="block",t.style.display="none"):o==="tileView"?(s.setView(m),e.style.display="none",t.style.display="block"):console.error("Unknown view")}function C(){c==="tableView"?(a("tileView"),c="tileView",u.innerText="Show tileview"):(a("tableView"),c="tableView",u.innerText="Show tableview"),s.updateView()}const u=document.getElementById("changeViewButton");u.onclick=()=>C();s.setModel(v);w.setController(s);m.setController(s);a("tableView");m.update();
